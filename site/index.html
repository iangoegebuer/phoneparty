<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>
    <link href="site/css/site.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <p id="errormsg"></p>
    <p>Please enter a room code:</p>
    <input type="text" id="roomcodetext"/>
    <p>Your name:</p>
    <input type="text" id="nametext"/>
    <br><br>
    <input type="button" value="Join Room" onclick="gotoRoom()"/> or <input type="button" value="Create Room" onclick="createRoom()"/>
    <script src="site/jquery-1.11.1.js"></script>
    <script>
    function gotoRoom() {
      var code = $("#roomcodetext").val();
      var name = $("#nametext").val();
      if (code.length > 0 && name.length > 0) {
        sessionStorage.setItem("code", code);
        sessionStorage.setItem("name", name);
        window.location.href = code;
      } else {
        $("#errormsg").text("Please enter a name and a room code.");
      }
    }
    function createRoom() {
      var name = $("#nametext").val();
      if (name.length > 0) {
        sessionStorage.setItem("name", name);
        window.location.href = "/create";
      } else {
        $("#errormsg").text("Please enter a name.");
      }
    }
    </script>
  </body>
</html>
